<div class="container">

<table style="width: 100%;"><tr>
<td>wconfusionmatrix</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Weighted confusion matrix</h2>

<h3>Description</h3>

<p>This function calculates the weighted confusion matrix from a caret
ConfusionMatrix object or a simple matrix, according to one of several
weighting schemas and optionally prints the weighted accuracy score.
</p>


<h3>Usage</h3>

<pre><code class="language-R">wconfusionmatrix(m, weight.type = "arithmetic",
                        weight.penalty = FALSE,
                        standard.deviation = 2,
                        geometric.multiplier = 2,
                        interval.high=1, interval.low = -1,
                        sin.high=1.5*pi, sin.low = 0.5*pi,
                        tanh.decay = 3,
                        custom.weights = NA,
                        print.weighted.accuracy = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>m</code></td>
<td>
<p>the caret confusion matrix object or simple matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weight.type</code></td>
<td>
<p>the weighting schema to be used. Can be one of:
"arithmetic" - a decreasing arithmetic progression weighting scheme,
"geometric" - a decreasing geometric progression weighting scheme,
"normal" - weights drawn from the right tail of a normal distribution,
"interval" - weights contained on a user-defined interval,
"sin" - a weighing scheme based on a sine function,
"tanh" - a weighing scheme based on a hyperbolic tangent function,
"custom" - custom weight vector defined by the user.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weight.penalty</code></td>
<td>
<p>determines whether the weights associated with
non-diagonal elements generated by the "normal", "arithmetic" and "geometric"
weight types are positive or negative values. By default, the value is set to
FALSE, which means that generated weights will be positive values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>standard.deviation</code></td>
<td>
<p>standard deviation of the normal distribution, if
the normal distribution weighting schema is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>geometric.multiplier</code></td>
<td>
<p>the multiplier used to construct the geometric
progression series, if the geometric progression weighting scheme is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interval.high</code></td>
<td>
<p>the upper bound of the weight interval, if the interval
weighting scheme is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interval.low</code></td>
<td>
<p>the lower bound of the weight interval, if the interval
weighting scheme is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sin.high</code></td>
<td>
<p>the upper segment of the sine function to be used in the
weighting scheme.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sin.low</code></td>
<td>
<p>the lower segment of the sine function to be used in the
weighting scheme.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tanh.decay</code></td>
<td>
<p>the decay factor of the hyperbolic tangent weighing
function. Higher values increase the rate of decay and place less weight on
observations farther away from the correctly predicted category.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>custom.weights</code></td>
<td>
<p>the vector of custom weight to be applied, if the
custom weighting scheme was selected. The vector should be equal to "n", but
can be larger, with excess values being ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>print.weighted.accuracy</code></td>
<td>
<p>print the weighted accuracy metric, which
represents the sum of all weighted confusion matrix cells divided by the
total number of observations.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The number of categories "n" should be greater or equal to 2.
</p>


<h3>Value</h3>

<p>an nxn weighted confusion matrix
</p>


<h3>Author(s)</h3>

<p>Alexandru Monahov, &lt;https://www.alexandrumonahov.eu.org/&gt;
</p>


<h3>See Also</h3>

<p>[weightmatrix()] for the weight matrix used in computations,
[balancedaccuracy()] for accuracy metrics designed for imbalanced data.
</p>


<h3>Examples</h3>

<pre><code class="language-R">m = matrix(c(70,0,0,10,10,0,5,3,2), ncol = 3, nrow=3)
wconfusionmatrix(m, weight.type="arithmetic", print.weighted.accuracy = TRUE)
wconfusionmatrix(m, weight.type="geometric", print.weighted.accuracy = TRUE)
wconfusionmatrix(m, weight.type="interval", print.weighted.accuracy = TRUE)
wconfusionmatrix(m, weight.type="normal", print.weighted.accuracy = TRUE)
wconfusionmatrix(m, weight.type="sin", print.weighted.accuracy = TRUE)
wconfusionmatrix(m, weight.type="tanh", print.weighted.accuracy = TRUE)
wconfusionmatrix(m, weight.type= "custom", custom.weights = c(1,0.1,0),
                 print.weighted.accuracy = TRUE)

</code></pre>


</div>