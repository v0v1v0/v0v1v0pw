<div class="container">

<table style="width: 100%;"><tr>
<td>grd_cell</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Grid cell operators</h2>

<h3>Description</h3>

<p>Grid cell operators
</p>


<h3>Usage</h3>

<pre><code class="language-R">grd_cell(grid, point, ..., snap = grd_snap_next)

grd_cell_range(
  grid,
  bbox = wk_bbox(grid),
  ...,
  step = 1L,
  snap = grd_snap_next
)

grd_cell_rct(grid, i, j = NULL, ...)

## S3 method for class 'wk_grd_rct'
grd_cell_rct(grid, i, j = NULL, ..., out_of_bounds = "keep")

## S3 method for class 'wk_grd_xy'
grd_cell_rct(grid, i, j = NULL, ..., out_of_bounds = "keep")

grd_cell_xy(grid, i, j = NULL, ...)

## S3 method for class 'wk_grd_rct'
grd_cell_xy(grid, i, j = NULL, ..., out_of_bounds = "keep")

## S3 method for class 'wk_grd_xy'
grd_cell_xy(grid, i, j = NULL, ..., out_of_bounds = "keep")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>grid</code></td>
<td>
<p>A <code>grd_xy()</code>, <code>grd_rct()</code>, or other object
implementing <code style="white-space: pre;">⁠grd_*()⁠</code> methods.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>point</code></td>
<td>
<p>A handleable of points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Unused</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>snap</code></td>
<td>
<p>A function that transforms real-valued indices to integer
indices (e.g., <code>floor()</code>, <code>ceiling()</code>, or <code>round()</code>).
For <code>grd_cell_range()</code>, a <code>list()</code> with exactly two elements to be called
for the minimum and maximum index values, respectively.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bbox</code></td>
<td>
<p>An <code>rct()</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>step</code></td>
<td>
<p>The difference between adjascent indices in the output</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i, j</code></td>
<td>
<p>1-based index values. <code>i</code> indices correspond to decreasing
<code>y</code> values; <code>j</code> indices correspond to increasing <code>x</code> values.
Values outside the range <code>1:nrow|ncol(data)</code> will be censored to
<code>NA</code> including 0 and negative values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>out_of_bounds</code></td>
<td>
<p>One of 'keep', 'censor', 'discard', or 'squish'</p>
</td>
</tr>
</table>
<h3>Value</h3>


<ul>
<li> <p><code>grd_cell()</code>: returns a <code>list(i, j)</code> of index values corresponding
to the input points and adjusted according to <code>snap</code>. Index values
will be outside <code>dim(grid)</code> for points outside <code>wk_bbox(grid)</code> including
negative values.
</p>
</li>
<li> <p><code>grd_cell_range()</code> returns a slice describing the range of indices
in the <code>i</code> and <code>j</code> directions.
</p>
</li>
<li> <p><code>grd_cell_rct()</code> returns a <code>rct()</code> of the cell extent at <code style="white-space: pre;">⁠i, j⁠</code>.
</p>
</li>
<li> <p><code>grd_cell_xy()</code> returns a <code>xy()</code> of the cell center at <code style="white-space: pre;">⁠i, j⁠</code>.
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">grid &lt;- grd(nx = 3, ny = 2)
grd_cell(grid, xy(0.5, 0.5))
grd_cell_range(grid, grid$bbox)
grd_cell_rct(grid, 1, 1)
grd_cell_xy(grid, 1, 1)

</code></pre>


</div>