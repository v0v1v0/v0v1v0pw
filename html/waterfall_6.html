<div class="container">

<table style="width: 100%;"><tr>
<td>waterfallplot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Waterfall Plot</h2>

<h3>Description</h3>

<p>Creates a waterfall plot with vertical or horizontal bars.
</p>


<h3>Usage</h3>

<pre><code class="language-R">waterfallplot(height, width = 1, space = NULL, names.arg = NULL,
  horiz = FALSE, density = NULL, angle = 45, col = NULL,
  border = par("fg"), main = NA, sub = NA, xlab = NULL, ylab = NULL,
  xlim = NULL, ylim = NULL, xpd = TRUE, axes = TRUE, axisnames = TRUE,
  cex.axis = par("cex.axis"), cex.names = par("cex.axis"), plot = TRUE,
  axis.lty = 0, offset = 0, add = FALSE, summary = FALSE, rev = FALSE,
  level.lines = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>height</code></td>
<td>
<p>a vector of values describing the height of the bars
that make up the plot.  Matrices are not supported.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width</code></td>
<td>
<p>optional vector of bar widths.  Re-cycled to length the
number of bars drawn.  Specifying a single value will have no visible
effect unless 'xlim' is specified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>space</code></td>
<td>
<p>the amount of space (as a fraction of the average bar width)
left before each bar.  May be given as a single number or one number
per bar.  If not given explicitly, it defaults to 0.2.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>names.arg</code></td>
<td>
<p>a vector of names to be plotted below each bar If
this argument is omitted, then the names are taken from the 'names'
attribute of 'height.'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>horiz</code></td>
<td>
<p>a logical value.  If 'FALSE', the bars are drawn
vertically with the first bar to the left.  If 'TRUE', the bars are
drawn horizontally with the first at the bottom.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>density</code></td>
<td>
<p>a vector giving the density of shading lines, in lines
per inch, for the bars or bar components. The default value of 'NULL'
means that no shading lines are drawn. Non-positive values of
'density' also inhibit the drawing of shading lines.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>angle</code></td>
<td>
<p>the slope of shading lines, given as an angle in degrees
(counter-clockwise), for the bars or bar components.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p>a vector of colors for the bars or bar components. By
default, grey is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>border</code></td>
<td>
<p>the color to be used for the border of the bars. Use
'border = NA' to omit borders.  If there are shading lines, 'border =
TRUE' means use the same colour for the border as forr the shading
lines.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>overall title for the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sub</code></td>
<td>
<p>subtitle for the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>a label for the x-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>a label for the y-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim</code></td>
<td>
<p>limits for the x-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>limits for the y-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xpd</code></td>
<td>
<p>logical. Should bars be allowed to outside region?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>axes</code></td>
<td>
<p>logical.  If 'TRUE', a vertical (or horizontal, if
'horiz' is true) axis is drawn.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>axisnames</code></td>
<td>
<p>logical.  If 'TRUE', and if there are 'names.arg'
(see above), the other axis is drawn (with 'lty=0') and labeled.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.axis</code></td>
<td>
<p>expansion factor for numeric axis labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.names</code></td>
<td>
<p>expansion factor for axis names (bar labels).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>logical.  If 'FALSE', nothing is plotted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>axis.lty</code></td>
<td>
<p>the graphics parameter 'lty' applied to the axis and
tick marks of the categorical (default horizontal) axis.  Note that by
default the axis is suppressed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>offset</code></td>
<td>
<p>initial offset relative to the x axis.  The value
serves as the logical starting point for the first column and any
summary column.  Defaults to 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add</code></td>
<td>
<p>logical specifying if bars should be added to an already
existing plot; defaults to 'FALSE'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>summary</code></td>
<td>
<p>create a summary column.  A summary column provides a
final sum column showing the relative change from the offset.  If a
summary is requested and names.arg is set, the names.arg vector must
include one extra entry with the summary column's name.  Defaults to
FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rev</code></td>
<td>
<p>reverse the order of columns?  Defaults to FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level.lines</code></td>
<td>
<p>if FALSE, the lines connecting adjacent boxes are
ommitted from the display.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>arguments to be passed to other methods.  For the default
method these can include further arguments (such as 'axes', 'asp' and
'main') and graphical parameters (see 'par') which are passed to
'plot.window()', 'title()' and 'axis'.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function closely mimics the barplot interface, but
provides a type of chart called a waterfall plot, showing how multiple
subvalues contribute to a total sum.
</p>
<p>This is a generic function, it currently only has a default method. A
formula interface may be added eventually.
</p>


<h3>Value</h3>

<p>A numeric vector say 'mp', giving the coordinates of
<em>all</em> the bar midpoints drawn, useful for adding to the graph.
</p>


<h3>References</h3>

<p>Andrew Jaquith, <em>Security Metrics: Replacing Fear,
Uncertainty, and Doubt</em> (Boston: Addison-Wesley Professional, 2007),
170-172.
</p>
<p>Ethan M. Rasiel, <em>The McKinsey Way: Using the Techniques of the
World's Top Strategic Consultants to Help You and Your Business</em> (New
York: McGraw-Hill, 1999), 113-118.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(rasiel)
waterfallplot(rasiel$value, names.arg=rasiel$label)

</code></pre>


</div>