<div class="container">

<table style="width: 100%;"><tr>
<td>UriPattern</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>UriPattern</h2>

<h3>Description</h3>

<p>uri matcher
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>pattern</code></dt>
<dd>
<p>(character) pattern holder</p>
</dd>
<dt><code>regex</code></dt>
<dd>
<p>a logical</p>
</dd>
<dt><code>query_params</code></dt>
<dd>
<p>a list, or <code>NULL</code> if empty</p>
</dd>
</dl>
</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-UriPattern-new"><code>UriPattern$new()</code></a>
</p>
</li>
<li> <p><a href="#method-UriPattern-matches"><code>UriPattern$matches()</code></a>
</p>
</li>
<li> <p><a href="#method-UriPattern-pattern_matches"><code>UriPattern$pattern_matches()</code></a>
</p>
</li>
<li> <p><a href="#method-UriPattern-query_params_matches"><code>UriPattern$query_params_matches()</code></a>
</p>
</li>
<li> <p><a href="#method-UriPattern-extract_query"><code>UriPattern$extract_query()</code></a>
</p>
</li>
<li> <p><a href="#method-UriPattern-add_query_params"><code>UriPattern$add_query_params()</code></a>
</p>
</li>
<li> <p><a href="#method-UriPattern-to_s"><code>UriPattern$to_s()</code></a>
</p>
</li>
<li> <p><a href="#method-UriPattern-clone"><code>UriPattern$clone()</code></a>
</p>
</li>
</ul>
<hr>
<a id="method-UriPattern-new"></a>



<h4>Method <code>new()</code>
</h4>

<p>Create a new <code>UriPattern</code> object
</p>


<h5>Usage</h5>

<div class="r"><pre>UriPattern$new(pattern = NULL, regex_pattern = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>pattern</code></dt>
<dd>
<p>(character) a uri, as a character string. if scheme
is missing, it is added (we assume http)</p>
</dd>
<dt><code>regex_pattern</code></dt>
<dd>
<p>(character) a uri as a regex character string,
see base::regex. if scheme is missing, it is added (we assume
http)</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>A new <code>UriPattern</code> object
</p>


<hr>
<a id="method-UriPattern-matches"></a>



<h4>Method <code>matches()</code>
</h4>

<p>Match a uri against a pattern
</p>


<h5>Usage</h5>

<div class="r"><pre>UriPattern$matches(uri)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>uri</code></dt>
<dd>
<p>(character) a uri</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>a boolean
</p>


<hr>
<a id="method-UriPattern-pattern_matches"></a>



<h4>Method <code>pattern_matches()</code>
</h4>

<p>Match a URI
</p>


<h5>Usage</h5>

<div class="r"><pre>UriPattern$pattern_matches(uri)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>uri</code></dt>
<dd>
<p>(character) a uri</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>a boolean
</p>


<hr>
<a id="method-UriPattern-query_params_matches"></a>



<h4>Method <code>query_params_matches()</code>
</h4>

<p>Match query parameters of a URI
</p>


<h5>Usage</h5>

<div class="r"><pre>UriPattern$query_params_matches(uri)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>uri</code></dt>
<dd>
<p>(character) a uri</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>a boolean
</p>


<hr>
<a id="method-UriPattern-extract_query"></a>



<h4>Method <code>extract_query()</code>
</h4>

<p>Extract query parameters as a named list
</p>


<h5>Usage</h5>

<div class="r"><pre>UriPattern$extract_query(uri)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>uri</code></dt>
<dd>
<p>(character) a uri</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>named list, or <code>NULL</code> if no query parameters
</p>


<hr>
<a id="method-UriPattern-add_query_params"></a>



<h4>Method <code>add_query_params()</code>
</h4>

<p>Add query parameters to the URI
</p>


<h5>Usage</h5>

<div class="r"><pre>UriPattern$add_query_params(query_params)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>query_params</code></dt>
<dd>
<p>(list|character) list or character</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>nothing returned, updates uri pattern
</p>


<hr>
<a id="method-UriPattern-to_s"></a>



<h4>Method <code>to_s()</code>
</h4>

<p>Print pattern for easy human consumption
</p>


<h5>Usage</h5>

<div class="r"><pre>UriPattern$to_s()</pre></div>



<h5>Returns</h5>

<p>a string
</p>


<hr>
<a id="method-UriPattern-clone"></a>



<h4>Method <code>clone()</code>
</h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>UriPattern$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt>
<dd>
<p>Whether to make a deep clone.</p>
</dd>
</dl>
</div>




<h3>Examples</h3>

<pre><code class="language-R"># trailing slash
(z &lt;- UriPattern$new(pattern = "http://foobar.com"))
z$matches("http://foobar.com") # TRUE
z$matches("http://foobar.com/") # TRUE

# without scheme
## matches http by default: does not match https by default
(z &lt;- UriPattern$new(pattern = "foobar.com"))
z$matches("http://foobar.com") # TRUE
z$matches("http://foobar.com/") # TRUE
z$matches("https://foobar.com") # FALSE
z$matches("https://foobar.com/") # FALSE
## to match https, you'll have to give the complete url
(z &lt;- UriPattern$new(pattern = "https://foobar.com"))
z$matches("https://foobar.com/") # TRUE
z$matches("http://foobar.com/") # FALSE

# default ports
(z &lt;- UriPattern$new(pattern = "http://foobar.com"))
z$matches("http://foobar.com:80") # TRUE
z$matches("http://foobar.com:80/") # TRUE
z$matches("http://foobar.com:443") # TRUE
z$matches("http://foobar.com:443/") # TRUE

# user info - FIXME, not sure we support this yet
(z &lt;- UriPattern$new(pattern = "http://foobar.com"))
z$matches("http://user:pass@foobar.com")

# regex
(z &lt;- UriPattern$new(regex_pattern = ".+ample\\.."))
z$matches("http://sample.org") # TRUE
z$matches("http://example.com") # TRUE
z$matches("http://tramples.net") # FALSE

# add query parameters
(z &lt;- UriPattern$new(pattern = "http://foobar.com"))
z$add_query_params(list(pizza = "cheese", cheese = "cheddar"))
z
z$pattern
z$matches("http://foobar.com?pizza=cheese&amp;cheese=cheddar") # TRUE
z$matches("http://foobar.com?pizza=cheese&amp;cheese=swiss") # FALSE

# query parameters in the uri
(z &lt;- UriPattern$new(pattern = "https://httpbin.org/get?stuff=things"))
z$add_query_params() # have to run this method to gather query params
z$matches("https://httpbin.org/get?stuff=things") # TRUE
z$matches("https://httpbin.org/get?stuff2=things") # FALSE

# regex add query parameters
(z &lt;- UriPattern$new(regex_pattern = "https://foobar.com/.+/order"))
z$add_query_params(list(pizza = "cheese"))
z
z$pattern
z$matches("https://foobar.com/pizzas/order?pizza=cheese") # TRUE
z$matches("https://foobar.com/pizzas?pizza=cheese") # FALSE

# query parameters in the regex uri
(z &lt;- UriPattern$new(regex_pattern = "https://x.com/.+/order\\?fruit=apple"))
z$add_query_params() # have to run this method to gather query params
z$matches("https://x.com/a/order?fruit=apple") # TRUE
z$matches("https://x.com/a?fruit=apple") # FALSE

# any pattern
(z &lt;- UriPattern$new(regex_pattern = "stuff\\.com.+"))
z$regex
z$pattern
z$matches("http://stuff.com") # FALSE
z$matches("https://stuff.com/stff") # TRUE
z$matches("https://stuff.com/apple?bears=brown&amp;bats=grey") # TRUE
</code></pre>


</div>