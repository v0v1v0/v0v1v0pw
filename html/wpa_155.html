<div class="container">

<table style="width: 100%;"><tr>
<td>personas_hclust</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create hierarchical clusters of selected metrics using a Person query</h2>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#questioning"><img src="../help/figures/lifecycle-questioning.svg" alt="[Questioning]"></a>
</p>
<p>Apply hierarchical clustering to selected metrics. Person averages are computed prior to clustering.
The hierarchical clustering uses cosine distance and the ward.D method
of agglomeration.
</p>


<h3>Usage</h3>

<pre><code class="language-R">personas_hclust(data, metrics, k = 4, return = "plot")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A data frame containing <code>PersonId</code> and selected metrics for
clustering.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>metrics</code></td>
<td>
<p>Character vector containing names of metrics to use for
clustering. See examples section.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>Numeric vector to specify the <code>k</code> number of clusters to cut by.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return</code></td>
<td>
<p>String specifying what to return. This must be one of the
following strings:
</p>

<ul>
<li> <p><code>"plot"</code>
</p>
</li>
<li> <p><code>"data"</code>
</p>
</li>
<li> <p><code>"table"</code>
</p>
</li>
<li> <p><code>"hclust"</code>
</p>
</li>
</ul>
<p>See <code>Value</code> for more information.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A different output is returned depending on the value passed to the <code>return</code>
argument:
</p>

<ul>
<li> <p><code>"plot"</code>: 'ggplot' object. A heatmap plot comparing the key metric averages
of the clusters as per <code>keymetrics_scan()</code>.
</p>
</li>
<li> <p><code>"data"</code>: data frame. Raw data with clusters appended
</p>
</li>
<li> <p><code>"table"</code>: data frame. Summary table for identified clusters
</p>
</li>
<li> <p><code>"hclust"</code>: 'hclust' object. hierarchical model generated by the function.
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Ainize Cidoncha <a href="mailto:ainize.cidoncha@microsoft.com">ainize.cidoncha@microsoft.com</a>
</p>


<h3>See Also</h3>

<p>Other Clustering: 
<code>workpatterns_classify()</code>,
<code>workpatterns_hclust()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Return plot
personas_hclust(sq_data,
                metrics = c("Collaboration_hours", "Workweek_span"),
                k = 4)

# Return summary table

personas_hclust(sq_data,
                metrics = c("Collaboration_hours", "Workweek_span"),
                k = 4,
                return = "table")

# Return data with clusters appended
personas_hclust(sq_data,
                metrics = c("Collaboration_hours", "Workweek_span"),
                k = 4,
                return = "data")


</code></pre>


</div>