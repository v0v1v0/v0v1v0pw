<div class="container">

<table style="width: 100%;"><tr>
<td>DataCleaner</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Provides data cleaning functionality</h2>

<h3>Description</h3>

<p>It provides a memory efficient method for removing unneeded
characters from text files. It is suitable for cleaning large text files.
</p>


<h3>Details</h3>

<p>It provides a method for cleaning text files. It allows removing bad words,
stop words, non dictionary words, extra space, punctuation and non-alphabet
characters. It also allows conversion to lower case. It supports large text
files.
</p>


<h3>Super class</h3>

<p><code>wordpredictor::Base</code> -&gt; <code>DataCleaner</code>
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-DataCleaner-new"><code>DataCleaner$new()</code></a>
</p>
</li>
<li> <p><a href="#method-DataCleaner-clean_file"><code>DataCleaner$clean_file()</code></a>
</p>
</li>
<li> <p><a href="#method-DataCleaner-clean_lines"><code>DataCleaner$clean_lines()</code></a>
</p>
</li>
<li> <p><a href="#method-DataCleaner-clone"><code>DataCleaner$clone()</code></a>
</p>
</li>
</ul>
<hr>
<a id="method-DataCleaner-new"></a>



<h4>Method <code>new()</code>
</h4>

<p>It initializes the current object. It is used to set the file name
and verbose options.
</p>


<h5>Usage</h5>

<div class="r"><pre>DataCleaner$new(fn = NULL, opts = list(), ve = 0)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>fn</code></dt>
<dd>
<p>The path to the file to clean.</p>
</dd>
<dt><code>opts</code></dt>
<dd>
<p>The options for data cleaning.
</p>

<ul>
<li> <p><strong>min_words</strong>. The minimum number of words per sentence.
</p>
</li>
<li> <p><strong>line_count</strong>. The number of lines to read and clean at a time.
</p>
</li>
<li> <p><strong>save_data</strong>. If the combined processed lines should be saved.
</p>
</li>
<li> <p><strong>output_file</strong>. Name of the output file used to store the data.
</p>
</li>
<li> <p><strong>sw_file</strong>. The stop words file path.
</p>
</li>
<li> <p><strong>dict_file</strong>. The dictionary file path.
</p>
</li>
<li> <p><strong>bad_file</strong>. The bad words file path.
</p>
</li>
<li> <p><strong>to_lower</strong>. If the words should be converted to lower case.
</p>
</li>
<li> <p><strong>remove_stop</strong>. If stop words should be removed.
</p>
</li>
<li> <p><strong>remove_punct</strong>. If punctuation symbols should be removed.
</p>
</li>
<li> <p><strong>remove_non_dict</strong>. If non dictionary words should be removed.
</p>
</li>
<li> <p><strong>remove_non_alpha</strong>. -&gt; If non alphabet symbols should be removed.
</p>
</li>
<li> <p><strong>remove_extra_space</strong>. -&gt; If leading, trailing and double spaces
should be removed.
</p>
</li>
<li> <p><strong>remove_bad</strong>. If bad words should be removed
</p>
</li>
</ul>
</dd>
<dt><code>ve</code></dt>
<dd>
<p>The level of detail in the information messages.</p>
</dd>
</dl>
</div>


<hr>
<a id="method-DataCleaner-clean_file"></a>



<h4>Method <code>clean_file()</code>
</h4>

<p>It provides an efficient method for cleaning text files.
It removes unneeded characters from the given text file with several
options.
</p>
<p>It allows removing punctuation, bad words, stop words,
non-alphabetical symbols and non-dictionary words. It reads a certain
number of lines from the given text file. It removes unneeded
characters from the lines and then saves the lines to an output text
file.
</p>
<p>File cleaning progress is displayed if the verbose option was
set in the class constructor. It is suitable for cleaning large text
files.
</p>


<h5>Usage</h5>

<div class="r"><pre>DataCleaner$clean_file()</pre></div>



<h5>Examples</h5>

<div class="r example copy">
<pre># Start of environment setup code
# The level of detail in the information messages
ve &lt;- 0
# The name of the folder that will contain all the files. It will be
# created in the current directory. NULL implies tempdir will be used
fn &lt;- NULL
# The required files. They are default files that are part of the
# package
rf &lt;- c("test.txt")
# An object of class EnvManager is created
em &lt;- EnvManager$new(ve = ve, rp = "./")
# The required files are downloaded
ed &lt;- em$setup_env(rf, fn)
# End of environment setup code

# The cleaned test file name
cfn &lt;- paste0(ed, "/test-clean.txt")
# The test file name
fn &lt;- paste0(ed, "/test.txt")
# The data cleaning options
dc_opts &lt;- list("output_file" = cfn)
# The data cleaner object is created
dc &lt;- DataCleaner$new(fn, dc_opts, ve = ve)
# The sample file is cleaned
dc$clean_file()

# The test environment is removed. Comment the below line, so the
# files generated by the function can be viewed
em$td_env()
</pre>
</div>


<hr>
<a id="method-DataCleaner-clean_lines"></a>



<h4>Method <code>clean_lines()</code>
</h4>

<p>It cleans the given lines of text using the options
passed to the current object.
</p>


<h5>Usage</h5>

<div class="r"><pre>DataCleaner$clean_lines(lines)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>lines</code></dt>
<dd>
<p>The input sentences.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>The cleaned lines of text.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre># The level of detail in the information messages
ve &lt;- 0
# Test data is read
l &lt;- c(
    "If you think I'm wrong, send me a link to where it's happened",
    "We're about 90percent done with this room",
    "This isn't how I wanted it between us.",
    "Almost any cute breed can become ornamental",
    "Once upon a time there was a kingdom with a castle",
    "That's not a thing any of us are granted'",
    "Why are you being so difficult? she asks."
)
# The expected results
res &lt;- c(
    "if you think wrong send me a link to where its happened",
    "were about percent done with this room",
    "this how i wanted it between us",
    "almost any cute breed can become ornamental",
    "once upon a time there was a kingdom with a castle",
    "thats not a thing any of us are granted",
    "why are you being so difficult she asks"
)
# The DataCleaner object is created
dc &lt;- DataCleaner$new(ve = ve)
# The line is cleaned
cl &lt;- dc$clean_lines(l)
# The cleaned lines are printed
print(cl)
</pre>
</div>


<hr>
<a id="method-DataCleaner-clone"></a>



<h4>Method <code>clone()</code>
</h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>DataCleaner$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt>
<dd>
<p>Whether to make a deep clone.</p>
</dd>
</dl>
</div>




<h3>Examples</h3>

<pre><code class="language-R">
## ------------------------------------------------
## Method `DataCleaner$clean_file`
## ------------------------------------------------

# Start of environment setup code
# The level of detail in the information messages
ve &lt;- 0
# The name of the folder that will contain all the files. It will be
# created in the current directory. NULL implies tempdir will be used
fn &lt;- NULL
# The required files. They are default files that are part of the
# package
rf &lt;- c("test.txt")
# An object of class EnvManager is created
em &lt;- EnvManager$new(ve = ve, rp = "./")
# The required files are downloaded
ed &lt;- em$setup_env(rf, fn)
# End of environment setup code

# The cleaned test file name
cfn &lt;- paste0(ed, "/test-clean.txt")
# The test file name
fn &lt;- paste0(ed, "/test.txt")
# The data cleaning options
dc_opts &lt;- list("output_file" = cfn)
# The data cleaner object is created
dc &lt;- DataCleaner$new(fn, dc_opts, ve = ve)
# The sample file is cleaned
dc$clean_file()

# The test environment is removed. Comment the below line, so the
# files generated by the function can be viewed
em$td_env()

## ------------------------------------------------
## Method `DataCleaner$clean_lines`
## ------------------------------------------------

# The level of detail in the information messages
ve &lt;- 0
# Test data is read
l &lt;- c(
    "If you think I'm wrong, send me a link to where it's happened",
    "We're about 90percent done with this room",
    "This isn't how I wanted it between us.",
    "Almost any cute breed can become ornamental",
    "Once upon a time there was a kingdom with a castle",
    "That's not a thing any of us are granted'",
    "Why are you being so difficult? she asks."
)
# The expected results
res &lt;- c(
    "if you think wrong send me a link to where its happened",
    "were about percent done with this room",
    "this how i wanted it between us",
    "almost any cute breed can become ornamental",
    "once upon a time there was a kingdom with a castle",
    "thats not a thing any of us are granted",
    "why are you being so difficult she asks"
)
# The DataCleaner object is created
dc &lt;- DataCleaner$new(ve = ve)
# The line is cleaned
cl &lt;- dc$clean_lines(l)
# The cleaned lines are printed
print(cl)
</code></pre>


</div>