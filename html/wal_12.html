<div class="container">

<table style="width: 100%;"><tr>
<td>img.to.wal</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert image to WAL instance.</h2>

<h3>Description</h3>

<p>Convert an input RGB image to a WAL instance, re-mapping its colors to the WAL palette in the process and generating the mipmaps.
</p>


<h3>Usage</h3>

<pre><code class="language-R">img.to.wal(in_image, apply_palette = wal::pal_q2(), wal = wal.template())
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>in_image</code></td>
<td>
<p>numeric matrix with 3 dimensions: widt, height, channels. Values must be in range 0..1. This is the image format returned by <code>jpeg::readJPEG</code> and <code>png::readPNG</code>. The image can have arbitrary colors, but the colors in the final WAL image will be limited to the palette. Both the width and height must be multiples of 8. Typical idtech1/2 textures use 32, 64, ..., 512. The reason is the mipmaps.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>apply_palette</code></td>
<td>
<p>n x 3 integer matrix, the palette for the WAL image. This is not saved to the wal image, but still required because the colors from the <code>in_image</code> will be adapted to the palette colors (replaced with the most similar ones). If the palette does not cover the colors in the source image well, the resulting WAL image will look bad (dissimilar to the source image).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wal</code></td>
<td>
<p>a wal instance. Note that 1 will be substracted from the data when it is written, as indices are stored 0-based in the file.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>wal instance
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
   wal = img.to.wal(jpeg::readJPEG("~/mytex.jpg"));

## End(Not run)

</code></pre>


</div>