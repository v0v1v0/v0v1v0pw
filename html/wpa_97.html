<div class="container">

<table style="width: 100%;"><tr>
<td>identify_churn</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Identify employees who have churned from the dataset</h2>

<h3>Description</h3>

<p>This function identifies and counts the number of employees who have churned
from the dataset by measuring whether an employee who is present in the first
<code>n</code> (n1) weeks of the data is present in the last <code>n</code> (n2) weeks of the data.
</p>


<h3>Usage</h3>

<pre><code class="language-R">identify_churn(data, n1 = 6, n2 = 6, return = "message", flip = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A Person Query as a data frame. Must contain a <code>PersonId</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n1</code></td>
<td>
<p>A numeric value specifying the number of weeks at the beginning of
the period that defines the measured employee set. Defaults to 6.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n2</code></td>
<td>
<p>A numeric value specifying the number of weeks at the end of the
period to calculate whether employees have churned from the data. Defaults
to 6.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return</code></td>
<td>
<p>String specifying what to return. This must be one of the
following strings:
</p>

<ul>
<li> <p><code>"message"</code> (default)
</p>
</li>
<li> <p><code>"text"</code>
</p>
</li>
<li> <p><code>"data"</code>
</p>
</li>
</ul>
<p>See <code>Value</code> for more information.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>flip</code></td>
<td>
<p>Logical, defaults to FALSE. This determines whether to reverse
the logic of identifying the non-overlapping set. If set to <code>TRUE</code>, this
effectively identifies new-joiners, or those who were not present in the
first n weeks of the data but were present in the final n weeks.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>An additional use case of this function is the ability to identify
"new-joiners" by using the argument <code>flip</code>.
</p>
<p>If an employee is present in the first <code>n</code> weeks of the data but not present
in the last <code>n</code> weeks of the data, the function considers the employee as
churned. As the measurement period is defined by the number of weeks from the
start and the end of the passed data frame, you may consider filtering the
dates accordingly before running this function.
</p>
<p>Another assumption that is in place is that any employee whose <code>PersonId</code> is
not available in the data has churned. Note that there may be other reasons
why an employee's <code>PersonId</code> may not be present, e.g. maternity/paternity
leave, Viva Insights license has been removed, shift to a
low-collaboration role (to the extent that he/she becomes inactive).
</p>


<h3>Value</h3>

<p>A different output is returned depending on the value passed to the <code>return</code>
argument:
</p>

<ul>
<li> <p><code>"message"</code>: Message on console. A diagnostic message.
</p>
</li>
<li> <p><code>"text"</code>: String. A diagnostic message.
</p>
</li>
<li> <p><code>"data"</code>: Character vector containing the the <code>PersonId</code> of
employees who have been identified as churned.
</p>
</li>
</ul>
<h3>See Also</h3>

<p>Other Data Validation: 
<code>check_query()</code>,
<code>extract_hr()</code>,
<code>flag_ch_ratio()</code>,
<code>flag_em_ratio()</code>,
<code>flag_extreme()</code>,
<code>flag_outlooktime()</code>,
<code>hr_trend()</code>,
<code>hrvar_count()</code>,
<code>hrvar_count_all()</code>,
<code>hrvar_trend()</code>,
<code>identify_holidayweeks()</code>,
<code>identify_inactiveweeks()</code>,
<code>identify_nkw()</code>,
<code>identify_outlier()</code>,
<code>identify_privacythreshold()</code>,
<code>identify_query()</code>,
<code>identify_shifts()</code>,
<code>identify_shifts_wp()</code>,
<code>identify_tenure()</code>,
<code>remove_outliers()</code>,
<code>standardise_pq()</code>,
<code>subject_validate()</code>,
<code>subject_validate_report()</code>,
<code>track_HR_change()</code>,
<code>validation_report()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">sq_data %&gt;% identify_churn(n1 = 3, n2 = 3, return = "message")

</code></pre>


</div>