<div class="container">

<table style="width: 100%;"><tr>
<td>thisfile</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Determines the path of the currently running script in terminal</h2>

<h3>Description</h3>

<p><span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> does not store nor export the path of the currently running
script.  This is an attempt to circumvent this limitation by applying
heuristics (such as call stack and argument inspection) that work in many
cases.
<strong>CAVEAT</strong>: Use this function only if your workflow does not permit other
solution: if a script needs to know its location, it should be set outside
the context of the script if possible.
</p>


<h3>Usage</h3>

<pre><code class="language-R">thisfile()

thisfile_source()

thisfile_r()

thisfile_rscript()

thisfile_knit()
</code></pre>


<h3>Details</h3>

<p>This functions currently work only if the script was <code>source</code>d,
processed with <code>knitr</code>,
or run with <code>Rscript</code> or using the <code>--file</code> parameter to the
<code>R</code> executable.  For code run with <code>Rscript</code>, the exact value
of the parameter passed to <code>Rscript</code> is returned.
</p>


<h3>Value</h3>

<p>The path of the currently running script, NULL if it cannot be
determined.
</p>


<h3>Note</h3>

<p>These functions were migrated from
<a href="https://github.com/r-lib/rprojroot/tree/4e4f70c0794542a5cfa6c3f66635388365616881">r-lib/rprojroot</a>.
</p>


<h3>Author(s)</h3>

<p>Kirill MÃ¼ller, Hadley Wickham, Michael R. Head
</p>


<h3>References</h3>

<p><a href="https://stackoverflow.com/q/1815606/946850">https://stackoverflow.com/q/1815606/946850</a>
</p>


<h3>See Also</h3>

<p><code>base::source()</code>, <code>utils::Rscript()</code>, <code>base::getwd()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
if( !interactive() )
  thisfile()

# using in terminal ( with pipe() )

  # open a temp file
   tf &lt;- tempfile(fileext = '.R')

  # call to write to temp file
   f &lt;- 'cat(whereami::thisfile(), "\n", sep = "")'

  # write to the file
   cat(f,file = tf)

  # create an R call to terminal
   fcmd &lt;- sprintf('"%s" --slave --vanilla --no-save -f %s',R.home('bin/R'),tf)

  # run the call
   p &lt;- pipe(fcmd)

  # read the output
   readLines(p)

  # cleanup
   close(p)
   unlink(tf)

</code></pre>


</div>