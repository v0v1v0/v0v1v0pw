<div class="container">

<table style="width: 100%;"><tr>
<td>find_peaks</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Function to find peaks of an EDA datafile</h2>

<h3>Description</h3>

<p>This function finds the peaks of an EDA signal and adds 
basic properties to the datafile.
</p>


<h3>Usage</h3>

<pre><code class="language-R">find_peaks(
  data,
  offset = 1,
  start_WT = 4,
  end_WT = 4,
  thres = 0.005,
  sample_rate = getOption("SAMPLE_RATE", 8)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>DataFrame with EDA as one of the columns and indexed by a datetimeIndex</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>offset</code></td>
<td>
<p>the number of rising seconds and falling seconds after a peak needed to be counted as a peak</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start_WT</code></td>
<td>
<p>maximum number of seconds before the apex of a peak that is the "start" of the peak</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>end_WT</code></td>
<td>
<p>maximum number of seconds after the apex of a peak that is the "end" of the peak 50 percent of amp</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>thres</code></td>
<td>
<p>the minimum microsecond change required to register as a peak, defaults as .005</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sample_rate</code></td>
<td>
<p>number of samples per second, default=8</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Also, peak_end is assumed to be no later than the start of the next peak. 
Is that OK?
</p>


<h3>Value</h3>

<p>data frame with several columns
peaks               1 if apex
peak_start          1 if start of peak
peak_end            1 if end of preak
peak_start_times    if apex then corresponding start timestamp
peak_end_times      if apex then corresponding end timestamp
half_rise           if sharp decaying apex then time to halfway point in rise
amp                 if apex then value of EDA at apex - value of EDA at start
max_deriv           if apex then max derivative within 1 second of apex
rise_time           if apex then time from start to apex
decay_time          if sharp decaying apex then time from apex to end
SCR_width           if sharp decaying apex then time from half rise to end
</p>


</div>